// auto generated by kmigrator
// KMIGRATOR:0175_auto_20220928_2124:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi40IG9uIDIwMjItMDktMjggMjE6MjQKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxNzRfYjJiYXBwX2ZlYXR1cmVzX2IyYmFwcGhpc3RvcnlyZWNvcmRfZmVhdHVyZXMnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbicsCiAgICAgICAgICAgIG5hbWU9J2lzVHJ1c3RlZEJhbmtBY2NvdW50U291cmNlJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PUZhbHNlKSwKICAgICAgICAgICAgcHJlc2VydmVfZGVmYXVsdD1GYWxzZSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2JpbGxpbmdpbnRlZ3JhdGlvbmhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdpc1RydXN0ZWRCYW5rQWNjb3VudFNvdXJjZScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field isTrustedBankAccountSource to billingintegration
--
ALTER TABLE "BillingIntegration" ADD COLUMN "isTrustedBankAccountSource" boolean DEFAULT false NOT NULL;
ALTER TABLE "BillingIntegration" ALTER COLUMN "isTrustedBankAccountSource" DROP DEFAULT;
--
-- Add field isTrustedBankAccountSource to billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" ADD COLUMN "isTrustedBankAccountSource" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field isTrustedBankAccountSource to billingintegrationhistoryrecord
--
ALTER TABLE "BillingIntegrationHistoryRecord" DROP COLUMN "isTrustedBankAccountSource" CASCADE;
--
-- Add field isTrustedBankAccountSource to billingintegration
--
ALTER TABLE "BillingIntegration" DROP COLUMN "isTrustedBankAccountSource" CASCADE;
COMMIT;

    `)
}
